<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    /* This is all the CSS for the quiz */
    body {background-color: rgb(0, 0, 0);
      height: 100vh;
      width: 100vw;
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 0;
      margin: 0
    }
    .grid {
     text-align: center;
     padding: 0;
     width: 800px;
     max-width: 80%;
     min-width: 800px;
     position: sticky;
    }
    .buttons {
      margin-top: 50px;
    }
    #btn0, #btn1, #btn2, #btn3 {
     background-color: rgb(0, 247, 255);
     border: none;
     padding: 20px 50px;
     text-align: center;
     text-decoration: none;
     font-family: Arial, Helvetica, sans-serif;
     font-size: 15px;
     position:static;
     cursor: pointer;
     border-radius: 30%;
     width: 350px;
     margin: 10px 30px 20px 0px;
    }
    #btn0:hover, #btn1:hover, #btn2:hover, #btn3:hover {
      box-shadow: 0 6px 20px 0 rgb(212, 0, 255);
    }   
    .btn-grid {
     display: center;
     gap: 10px;
     grid-template-columns: repeat(2, auto);
     display: inline-block;
    }
    #score {
     text-align: center;
     color: rgb(98, 0, 255);
     font-size: 300%;
     font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
    }
    .hidden {
      display: none;
    }
    #Restart-btn {
      background-color: rgb(0, 225, 255);
      font-size: 200%;
      font-family: 'Franklin Gothic Medium', 'Arial Narrow', Arial, sans-serif;
      text-align: center;
      text-decoration: none;
      cursor: pointer;
      padding: 20px 30px;
      border-radius: 30%;
      border: none;
      width: 160px;
      position: static;
      margin: auto;
    }
    #Restart-btn:hover {
      box-shadow: 0 6px 20px 0 rgb(212, 0, 255);
    }
    .grid #question {
     font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
     font-size: 300%;
    color: rgb(255, 0, 200);
    }
    #progress {
      width: 97%;
      background-color: rgb(54, 54, 58);
      border-radius: 10%;
      display: flex;
    
    } 
    #bar {
      width: 10%;
      height: 30px;
      background-color: rgb(76, 0, 255);
      text-align: center;
      line-height: 30px;
      font-size: 150%;
      font-family: Impact, Haettenschweiler, 'Arial Narrow Bold', sans-serif;
      color: rgb(255, 0, 255);
      border-radius: 10%;
     
    } 
</style>
</head>

<!--This is a template for the questions and the answer buttons-->
<div class="grid">
 <div id="quiz">
  <p id="question"></p>

  <div class="buttons">
    <button id="btn0" onclick="checkAnswer(0)" onclick="progressBar()"><span id="choice0"></span></button>
    <button id="btn1" onclick="checkAnswer(1)" onclick="progressBar()"><span id="choice1"></span></button>
    <button id="btn2" onclick="checkAnswer(2)" onclick="progressBar()"><span id="choice2"></span></button>
    <button id="btn3" onclick="checkAnswer(3)" onclick="progressBar()"><span id="choice3"></span></button>
  </div>

  <!--<div class="startscreen">
    <p id="title"></p>
   </div>-->

<div id="progress">
  <div id="bar">
  </div>
</div>
</div>
</div>

<!--<button id="Start-btn"onclick="startGame()">Start</button>-->

<!--This is the template for the restart button-->
<button id="Restart-btn" class="hidden" onclick="restartGame()">Restart</button>
<script>

// Variable for the score
var score = 0;

// Variable for the questions
var index = 0;

// Variable for the progressbar
var width = 5;

// The variable for the restart button
var restartBtn = document.getElementById("Restart-btn")

// This is the stored questions that is stored in an 2d array. The right answer is stored in the question array
var questions = [
["Who are the founders of Blizzard Entertainment?", 0], 
["How long was Red Dead Redemption 2's story script?", 0], 
["How many copies of Valheim have been sold?", 0], 
["What is Alt + F4?", 3], 
["What is a cracked game?", 2], 
["Is hacking The Sims illegal?", 2], 
["Who can you find at Roanoke Valley in Red Dead Redemption 2?", 1], 
["What game is Blizzard most well known for?", 0], 
["What is the best streaming platforms?", 0], 
["How many hours does gamers spend on gaming per week?", 3]
];

// This is the stored choices that is stored in an 2d array
var choices = [
["Michael Morhaime, Allen Adham and Frank Pearce", "Markus Persson, Robert A. Altman and Christopher Weaver", "Trip Hawkins, Markus Persson and Jens Bergensten", "Elon Musk, Steve Jobs and some guy"],
["2.4 meter high, around 40 - 50 hours of gameplay", "100 meter high, around 300 hours of gameplay", "3 meter high, around 20 hours of gameplay", "Maybe around 10 cm high, around 10 hours of gameplay"],
["7.9 million copies", "3 copies", "1.4 quadrillion copies", "A lot"],
["You get free money", "Nothing", "Forcefully closes down your computer", "Forcefully closes down your active page"],
["A game that is broken", "Someone stole my game!", "A game that people can download without paying for it", "Free games!"],
["The developers gave the user hacking tools", "Of course", "It depends what you mean by hacking", "Nope"],
["Gavin", "A naked man", "Hunters", "Police"],
["World of Warcraft", "Overwatch", "Diablo", "Hearthstone"],
["Discord", "Twitch", "Youtube", "Facebook"],
["24/7", "6 - 13 hours", "30 minutes", "What? Do we ever stop gaming?"]
];

/*function startGame() {
var element = document.getElementById("title");
element.innerText = 
}*/


// This is a function that matches the question to the choice user clicked on.
function checkAnswer(choice) {
  
  //console.log(choice)
  //console.log(questions[index][1])
  
  // If the user clicked on the right choice the score increases with one point
  if (questions[index][1]==choice) {
   // console.log("Correct answer!")
    
    // This is for the list with results
   //resultlist[index] = true;
   
   score++;
  }
  else {
    // If the user clicked the wrong choice the user gets no points
    
    //console.log("Wrong answer!")
   // This is for the list with results
  //resultlist[index] = false;
  }
  index++;
  populate();
}

// This creates a function that displays the questions 
function populate() {
  // If the quiz has ended it's gonna display the final score function
  if (index === questions.length) {
    showScores();
  }
  else {
    // This gets the question template by ID in the HTML part
    var element = document.getElementById("question");
    // This displays the current question
    element.innerText = questions[index][0];

    // A for-loop goes through the answers
    for(var i = 0; i < 4; i++) {
      // This gets the choices template by ID in the HTML part
      var element = document.getElementById("choice" + i);
      // This displays the current choices
      element.innerText = choices[index][i];
    }
    // This displays the progress function
    progressBar();
  }
};

// This is the function of the progressbar
 function progressBar() {
// This makes it possible for the program to add one number in the progress after the user clicks one button
var currentQuestionNumber = index + 1;
// This the bar template of the progressbar
var element = document.getElementById("bar");
// This sets how fast the bar fills up when hitting the button
var id = setInterval(frame, 10);

// This is the function for the setInterval ID
function frame() {
// This makes the text show and update the current questionnumber
  if (width <= 100) {
  // This makes the bar reset if the quiz ends or the page is refreshed
  clearInterval(id);
// This is how much the bar fills up after each question
    width+= 10;
// This tells how much the bar fills up in percentage 
element.style.width = width + "%";
// This displays the current question and total number of question inside the progress bar
element.innerHTML = currentQuestionNumber + " / " + questions.length;
  }
 }
};

// This is the function that shows the users final score at the end of the quiz
function showScores() {
  // Showing and displaying the result out of total result
  var gameOverHTML = "<h1>Result</h1>";
  gameOverHTML += "<h2 id='score'> Congratulations! <br> You have finished the quiz <br>" + score + " out of " + questions.length +"</h2>";
  var element = document.getElementById("quiz");
  element.innerHTML = gameOverHTML;
  // This makes the restart button show up
  element.appendChild(restartBtn)
  restartBtn.classList.remove("hidden");
};

// This is the function for the restart button so the game restarts
function restartGame() {
  // Reload the page
 document.location.reload();
 // Makes the button hidden through out the quiz until the end of the quiz
 restartBtn.classList.add("hidden");
};

// This starts and displays the quiz
populate();
</script>
</body>
</html>